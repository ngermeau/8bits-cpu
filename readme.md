[ ] replace for loops by using iterators 
[ ] create a common bus size variable 
